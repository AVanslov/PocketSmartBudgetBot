{% extends "base.html" %}
{% block content %} 
  <div style="margin-left: 60px; margin-right: 60px; margin-top: 20px; border-radius: 25px; background-color: #f2f2f2; padding: 20px">
    <form method="post">
      {% csrf_token %}
      <div style="display: flex; align-content: center;">
        <li><h1 class="main-title">{{ title }}</h1></li>
        {% for field in form.visible_fields %}
          <div style="flex: 1; padding-left: 25px; align-content: center;">
            <li>{{ field }}</li>
          </div>
        {% endfor %}
        <input class="button" type="submit" value="Submit">
      </div>
    </form>
  </div>

  <div style="display: flex; margin: 10px 50px 10px 50px;">
    <div style="flex: 1.3; border-radius: 25px; background-color: #f2f2f2; margin: 10px; padding: 20px;">
      <div>
        <form method="get">
          {% for field in filter.form.visible_fields %}
            <div style="display: inline-block; padding-left: 25px; align-content: center;">
              <li>{{ field }}</li>
            </div>
          {% endfor %}
          <li>
            <button class="filter-button" type="submit">Filter</button>
          </li>
        </form>
      </div>
      <table>
        <tr class="table-title">
          <th><b>Date</b></th>
          <th><b>Category</b></th>
          <th><b>Value</b></th>
          <th><b>Comment</b></th>
        </tr>
        {% for income in page_obj %}
          <tr>
            <th>{{ income.date }}</th>
            <th>{{ income.category.category }}</th>
            <th>{{ income.value }}</th>
            <th>{{ income.comment }}</th>
            <th class="no-hover">
              <button class="button-table">edit</button>
              <button class="button-table" style="background-color: #e75441;">delete</button>
            </th>
          </tr>
          {% if not forloop.last %}
          {% endif %}
          {% endfor %}
          <!-- Подключаем пагинатор -->
        </table>
        {% include "includes/paginator.html" %}
    </div>
    <div style="flex: 1; border-radius: 25px; background-color: #f2f2f2; margin: 10px; padding: 20px;">
      <p class="main-title">Hear will be Graphics</p>
    </div>
    <div style="flex: 0.7; border-radius: 25px; background-color: #f2f2f2; margin: 10px; padding: 20px;">
      <table>
        <tr class="table-title">
          <th><b>Categories of Incomes</b></th>
        </tr>
        {% for category in categories %}
          <tr>
            <th>{{ category.category }}</th>
            <th class="no-hover">
              <button class="button-table">edit</button>
              <button class="button-table" style="background-color: #e75441;">delete</button>
            </th>
          </tr>
        {% endfor %}
      </table>
    </div>
  </div>
{% endblock %}